<h1 class="title">My Library</h1>

<div class="section">
    <h2 class="title">Audio Books</h2>

    @if (myLibraryAudioBooks() == null || myLibraryAudioBooks().length == 0) {
    <p class="section text-accent">There are no Audio Books here</p>
    }
    @else {
    <div class="section grid gap-4 grid-cols-[repeat(auto-fill,minmax(150px,1fr))]">
        @for (audioBook of myLibraryAudioBooks(); track $index) {
        <app-audio-book-item [audioBook]="audioBook"></app-audio-book-item>
        }
    </div>
    }
</div>
<div class="section">
    <h2 class="title">Podcasts</h2>

    @if (myLibraryAudioBooks() == null || myLibraryAudioBooks().length == 0) {
    <p class="section text-accent">There are no Podcasts here</p>
    }
    @else {
    @for (podcast of myLibraryPodcasts(); track $index) {
    <div class="section">
        <a class="link-item" [routerLink]="['/podcasts', podcast.id]" [title]="podcast.name">
            <div class="w-full bg-center bg-no-repeat bg-cover bg-parallax bg-accent flex flex-col justify-center overflow-hidden rounded-xl min-h-[150px] sm:min-h-[250px]"
                [style.background-image]="'url(' + (podcast.coverImageUrl) + ')'">
            </div>

            <h3 class="title2">{{podcast.name}}</h3>
            <p class="subtitle text-accent">
                @for(creator of podcast.voicers; track $index) {
                <a>{{ creator.nickname }}</a>@if (!$last) {, }
                }
            </p>
        </a>

        <h5 class="section text-accent flex justify-between items-center gap-2">
            {{podcast.episodes?.length ?? 0}} Episodes

            <button type="button" class="button button-primary button-rounded shrink-0" [title]="'Play all Episodes'"
                (click)="podcastPlayAll(podcast)">
                <fa-icon [icon]="faPlay" /> Play all
            </button>
        </h5>

        <div class="grid gap-4 grid-cols-1 sm:grid-cols-[repeat(auto-fill,minmax(350px,1fr))]">
            @for (episode of podcast.episodes; track $index) {
            <app-podcast-episode-item [podcast]="podcast" [episode]="episode"></app-podcast-episode-item>
            }
        </div>
    </div>
    }
    }
</div>