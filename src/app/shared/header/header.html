<header class="border-b-2 border-accent p-4 sm:px-8 flex flex-col gap-4">
    <div class="flex items-center justify-start gap-2 whitespace-nowrap sm:gap-4">
        <a i18n-title title="Home" class="shrink-0" [routerLink]="['/']">
            <img src="logo/logo-transparent.png" title="LOVI" alt="LOVI" width="136" height="45"
                class="w-auto h-[40px] sm:h-[45px]" />
        </a>

        <div class="flex-1"></div>

        <ng-template #signIn>
            <a i18n i18n-title class="button button-accent shrink-0" title="Sign in" [routerLink]="['/auth', 'login']"
                [routerLinkActive]="'button-primary'">Sign in</a>
        </ng-template>
        <a i18n-title *appAuth="null; else signIn" class="icon-button" title="User Profile"
            [routerLink]="['/user-profile']" [routerLinkActive]="'text-primary'">
            <fa-icon [icon]="faUser" />
        </a>

        <button i18n-title type="button" class="icon-button sm:!hidden" title="Toggle menu"
            (click)="menuMobileOpen.set(!menuMobileOpen())">
            @if (menuMobileOpen()) {
            <fa-icon [icon]="faClose" />
            } @else {
            <fa-icon [icon]="faBars" />
            }
        </button>
    </div>

    <div class="flex items-center justify-start whitespace-nowrap flex-col gap-4 overflow-initial sm:overflow-auto sm:-my-4 sm:-mx-8 sm:py-4 sm:px-8 sm:flex-row sm:gap-8"
        [class.max-sm:hidden]="!menuMobileOpen()">
        <a i18n i18n-title class="text-sm leading-normal" title="Audio Books" [routerLink]="['/audio-books']"
            [routerLinkActive]="'text-primary'">Audio Books</a>
        <a i18n i18n-title class="text-sm leading-normal" title="Podcasts" [routerLink]="['/podcasts']"
            [routerLinkActive]="'text-primary'">Podcasts</a>
        <a i18n i18n-title *appAuth class="text-sm leading-normal" title="My Library" [routerLink]="['/my-library']"
            [routerLinkActive]="'text-primary'">My Library</a>
        <a i18n i18n-title *appAuth="['Admin', 'Editor']" class="text-sm leading-normal" title="Edit"
            [routerLink]="['/edit']" [routerLinkActive]="'text-primary'">Edit</a>

        <span class="flex-grow hidden sm:flex"></span>

        <form [formGroup]="searchForm" (ngSubmit)="onSearchSubmit()" class="flex gap-2 relative max-w-full">
            <input i18n-placeholder type="search" formControlName="search" id="search" class="input !pr-14"
                placeholder="Search" autocomplete="on" />
            <button i18n-title type="submit" title="Search" class="input-button absolute right-0" [disabled]="!searchForm.valid">
                <fa-icon [icon]="faMagnifyingGlass" />
            </button>
        </form>
    </div>
</header>