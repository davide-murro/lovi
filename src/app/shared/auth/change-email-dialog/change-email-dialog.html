<h1 i18n class="title text-center !pt-0">Change email</h1>

<form [formGroup]="form" (ngSubmit)="submit()" class="flex flex-col items-center gap-4">

    <div class="w-full">
        <label i18n class="label" for="password">Password</label>
        <input type="password" formControlName="password" id="password" class="input input-accent w-full" />
        @if(form.controls.password.hasError('required')) {
        <p i18n class="text-accent text-sm">Password is required</p>
        } @else if(form.controls.password.valid) {
        <p i18n class="text-success text-sm">
            Password ready
        </p>
        }
    </div>

    <div class="w-full">
        <label i18n class="label" for="new-email">New email</label>
        <input type="email" formControlName="newEmail" id="new-email" class="input input-accent w-full" />
        @if(form.controls.newEmail.hasError('required')) {
        <p i18n class="text-accent text-sm">
            New email is required
        </p>
        } @else if(form.controls.newEmail.hasError('email')) {
        <p i18n class="text-error text-sm">
            New email not valid
        </p>
        } @else if(form.controls.newEmail.valid) {
        <p i18n class="text-success text-sm">
            New email OK
        </p>
        }
    </div>

    <button i18n i18n-title type="submit" class="flex-none button button-primary button-rounded" title="Confirm" [disabled]="!form.valid || isLoading()">Confirm</button>
</form>